<!-- extend from base layout -->
{% extends "base.html" %}

{% block content %}
	<div class="container-fluid">
        <div class="span10">
            <!--Table content-->
            <div>
                Select a color: <input type='text' id='myPicker' name='myPicker' />
            </div>
            <form action="" method="post" name="pixTable">
                <div class="pixTable">
                    {% for r in range(16) %}
                    <div class="pixRow">
                        {% for c in range(16) %}
                        <div class="pixCell" id="{{ c }},{{ r }}">
                            {{ form.pixValue }}
                        </div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                </div>
                <div>
                    <button type="button" class="btn btn-danger" id="alloff">All Off</button><button type="button" class="btn btn-success" id="savebtn">Save</button>
                </div>
            </form>
        </div>
	</div>
	<script>
        $mouse_is_down = false;
        $setColor = $("#myPicker").spectrum("get");
        $( ".pixCell" ).mousedown(function() {
            $mouse_is_down = true;
            $setColor = $("#myPicker").spectrum("get");
            $( this ).css( "background-color", $setColor);
            $( this ).find( "input" ).val ( $setColor.toHex() );
        });
        $( ".pixCell" ).mouseup(function() {
            $mouse_is_down = false;
        });
        $( ".pixCell" ).mouseenter(function() {
            if ($mouse_is_down) {
                $( this ).css( "background-color", $setColor);
                $( this ).find( "input" ).val ( $setColor.toHex() );
            } 
        });
        $( "#myPicker" ).spectrum({
            showPaletteOnly: true,
            togglePaletteOnly: true,
            hideAfterPaletteSelect: true
        });
        $( "#alloff" ).click(function() {
            $( ".pixCell" ).css( "background-color", "#000000");
            $( ".pixCell input" ).val( "#000000" );
        });
	</script>	
{% endblock %}